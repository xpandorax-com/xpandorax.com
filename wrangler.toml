name = "xpandorax-com"
pages_build_output_dir = "./build/client"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Cloudflare Pages configuration
# Pages automatically deploys the pages_build_output_dir after npm run build completes
# No deploy command needed - Pages handles deployment automatically

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "xpandorax-com"
database_id = "1e1e0001-2d13-4c0e-b5c6-83f26ab8732e"

# Environment variables
[vars]
APP_URL = "https://xpandorax.com"
APP_NAME = "XpandoraX"
# Backblaze B2 configuration (credentials should be set as secrets)
B2_BUCKET_NAME = "xpandorax-com"
B2_REGION = "us-east-005"
B2_ENDPOINT = "s3.us-east-005.backblazeb2.com"
CDN_URL = "https://cdn.xpandorax.com"

# Production environment
[env.production]
vars = { APP_URL = "https://xpandorax.com", APP_NAME = "XpandoraX", B2_BUCKET_NAME = "xpandorax-com", B2_REGION = "us-east-005", B2_ENDPOINT = "s3.us-east-005.backblazeb2.com", CDN_URL = "https://cdn.xpandorax.com" }

# Preview environment  
[env.preview]
vars = { APP_URL = "https://preview.xpandorax.com", APP_NAME = "XpandoraX Preview", B2_BUCKET_NAME = "xpandorax-com", B2_REGION = "us-east-005", B2_ENDPOINT = "s3.us-east-005.backblazeb2.com", CDN_URL = "https://cdn.xpandorax.com" }
